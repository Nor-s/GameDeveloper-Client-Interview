## 키워드 

- 실행단위 : CPU core에서 실행하는 하나의 단위, 프로세스와 스레드를 포괄 

- 프로세스: 하나의 스레드만 가지고 있는 단일 스레드 프로세스 

- 동시성: 한 순간에 여러 일이 아니라, 짧은 전환으로 여러가지 일을 동시에 처리하는 것 처럼 보이는 것

- 프로그램: 코드 뭉치 exe 파일.. (하드디스크)
    
- 프로세스: 프로그램이 실행되어 메모리에 적재된 것

## 프로그램이 프로세스가 될 떄

- 메모리 할당     
    - 구조  
        - 코드 (실행명령을 포함하는 코드들)
        -  data (static 변수 혹은 global 변수)
        -  heap (동적 메모리 영역)
        -  stack (지역변수, 매개변수, 반환 값... 일시적인 데이터)

- 해당 프로세스에 대한 정보를 담고 있는 PCB 블럭이 프로세스 생성시 함께 만들어짐 
    - PC : 다음 명령어 실행
    - 프로세스 상태  정보 


- 스레드: 경량화된 프로세스 버전
    - 하나의 프로세스 안에 여러 스레드는 코드, 데이터, 힙 영역 을 공통된 자원으로 사용, 스택 영역만 따로 할당 받음
        - 공유되는 자원 => 스레드의 컨텍스트 스위칭이 일어날 때 캐싱 적중률이 올라감? 
    
## 멀티 프로세스 멀티 스레드드

- 처리방식의 일종 : 소프트웨어 측면 

### 멀티 프로세스 

- 부모 프로세스에서 fork를 해서 자식 프로세스를 여러개 만들어서 일을 처리 

- 자식 프로세스는 부모와 별개의 메모리 영역을 확보하게됨 

- 각 프로세스는 독립적
    - IPC 를 사용한 통신 , redis등 

- 자원 소모적

- context switching 비용이 큼 
- 동기화 작업이 불필요 
    

### 멀티스레드

- 스레드는 한 프로세스 내에서 구분지어진 실행단위 

- 스레드끼리 긴밀하게 연결되어 있음

- 공유된 자원으로 통신 비용 절감
    - 또한 메모리 효율적
    - But, 공유 자원 관리를 잘해야함

-  context switching 비용이 적음

#### 문제점 

- 스레드: 하나의 스레드에서 문제가 생기면 프로그램 전체에 영향 

## 멀티 코어 

- 처리방식의 일종이 아니라 하드웨어 측면 

- 싱글코어  
    - 동시성: context switching: 여러 실행단위를 번갈아 실행, 동시에 일어나는 것 처럼 보이게함 
        - CPU 시분할 => 동시에 하는것처럼 

- 멀티코어
    - 병렬처리
        - 물리적으로 여러 코어를 사용해서 다수의 실행단위를 한순간에 처리할 수 있게 해줌
        - 둘 이상의 코어에서 동시에 하나 이상의 프로세스 (혹은 스레드)가 한꺼번에 진행되는 것 


## 사용자, 커널 스레드 

- 리눅스 커널에서는 프로세스와 스레드를 동일하게 봄 (스레드는 사용자 스레드와 커널 스레드로 나뉨 )
    - 각 스레드를 담당하는 레벨이 각각 사용자, 커널 레벨 
        - 스레드간에 연관관계가 있음 . 리눅스는 일대일 모델. 하나의 사용자당 커널 스레드 하나가 매칭
        - 이 프로세스는 각각 다른 메모리를 가진 것과 조금 다르게 메모리를 공유함는 (light weight 프로세스)
    - 리눅스에서 한 프로세스의 생성된 스레드는 모두 같은 pid를 가지고 있음 
        - TGID 라는 스레드 그룹 아이디, tid 라는 스레드 아이디 
        - 커널입장에서보면 tid가 pid로 인식이됨  (사용자는 pid가.)

- 




