## 3차원공간에서의 회전 

- 3차원 공간의 회전을 지정한다는 것
    - 매번 3개의 변화된 표준기저벡터 값을 계산해야함 
    - 회전 지정: 일반적으로 회전하는 중심축과 각으로 표현된 회전량을 지정하는 방식을 사용 

- 2차원공간은 하나의 평면만 존재하기 때문
    - 각으로 회전량을 지정 => 원하는 회전을 설계할 수 있음
- 3차원 공간은 무수히 많은 평면 => 새로운방식이 필요
    - 오일러각이 대표적


- 오일러각
    - vector3의 x,y,z축을 중심으로 회전하는 각도를 각각 지정하는 방식
        - 소프트웨어마다 x, y, z 축 용도가 다르기 때문에 범용적으로 사용하기 힘듦

- Yaw Roll Pitch 
    - 이 움직임으로 오일러 각을 지정하면, 서로 다른 좌표계를 사용하는 프로그램 간에 데이터를 쉽게 변환 가능 
    - Yaw: 위 쪽 방향 축
    - roll: 앞쪽방향  축
    - pitch: 오른쪽 방향 축





## 오일러각 

- 표준기저벡터를 중심으로 진행되는 세 번의 연속적인 회전을 의미 

- 계산된 회전행렬의 열벡터는 표준기저벡터가 회전 변환된 로컬 축을 의미 


### 회전행렬 순서

xyz, xzy, yxz, yzx, zxy, zyx  

- 언리얼: z->x->y  

### 오일러각의 장점

- 직관적
    - 직관적인 표준기저벡터를 회전축으로 사용
        - 회전을 설계하기가 용이 
    - 대다수 그래픽소프트웨어에서 3차원을 회전을 설정하는 인터페이스로 오일러 각 방시을 사용 

- 적은 용량으로 3차원 공간의 회전 정보 기록 가능 (오일러각 3개)

### 오일러각의 단점

#### 짐벌락 현상

- 세 개의 축으로 자유롭게 회전하지 못하고, 두 개의 축만 회전에 사용됨,
    - 이렇게 회전이 제약되는 현상을 짐벌락이라고함 

- 세 축이 종속적이기 때문에 발생 
    - z 축을 돌리는 순간 x, y 축 또한 함께 돎 (행렬곱)

- 종속적인 이유
    - 오일러 각에서 회전 자체를 세축으로 나눠서 계산하기 때문 
        - 이 때문에 순서에 따라 결과가 다름 
    - 제일먼저 계산하는 축을 회전하게되면, 모든 축이 회전함 
        - 가장 마지막에 계산하는 축을 회전하면, 혼자 회전함 
    

- 해결: 로드리게스 회전 공식, 사원수 사용 
    - 쿼터니언은 세개의 축이 동시에 업데이트됨 


#### 회전 보간 계산

- 선형 보간식이 성립: 두 각의 회전 변환을 곱한 결과가 두 값의 합의 회전 변환과 동일해야함


- 한 축만 사용했을 때는 문제없음 (2차원 평면에서의 회전과 
동일)
    - 보통 게임 캐릭터는 요 회전(좌우 방향전환)만 사용하기 때문에 문제없지만, 비행기 조종같은 게임에서의 회전은 구현 불가가

- 두 축 이상을 사용하는 오일러 각은 선형 보간식을 사용할 수 없음    
    - 곱과 합이 일치하지 않음 

    


## 카메라 회전 

- 카메라 트랜스폼 (회전, 이동)을 사용해서 뷰행렬을 만듦

- 뷰행렬은 회전, 이동의 역행렬을 사용해서 만듦

- 이 때 역행렬의 곱 순서는 이동 -> 회전 순임 
    - 카메라에 회전을 적용할 시점에는 모든 좌표가 카메라 중심으로 변환되어 있어야하기 때문

